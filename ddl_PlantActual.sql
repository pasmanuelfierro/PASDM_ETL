CREATE TABLE etl.plant_actual
(
    id              BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    fecha           date                                    NOT NULL,
    turno           VARCHAR(20),
    peso_seco_ton   DECIMAL(20, 10),
    cabeza_ag_kg_t  DECIMAL(20, 10),
    cabeza_zn_pct   DECIMAL(20, 10),
    cabeza_cu_pct   DECIMAL(20, 10),
    conc_pb_au_gt   DECIMAL(20, 10),
    conc_pb_ag_kg_t DECIMAL(20, 10),
    conc_pb_pb_pct  DECIMAL(20, 10),
    conc_pb_zn_pct  DECIMAL(20, 10),
    conc_pb_cu_pct  DECIMAL(20, 10),
    conc_zn_au_gt   DECIMAL(20, 10),
    conc_zn_ag_kg_t DECIMAL(20, 10),
    conc_zn_pb_pct  DECIMAL(20, 10),
    conc_zn_zn_pct  DECIMAL(20, 10),
    conc_zn_cu_pct  DECIMAL(20, 10),
    cola_au_gt      DECIMAL(20, 10),
    cola_ag_kg_t    DECIMAL(20, 10),
    cola_pb_pct     DECIMAL(20, 10),
    cola_zn_pct     DECIMAL(20, 10),
    cola_cu_pct     DECIMAL(20, 10),
    conc_pb_ton     DECIMAL(20, 10),
    conc_zn_ton     DECIMAL(20, 10),
    cola_ton        DECIMAL(20, 10),
    cabeza_au       DECIMAL(20, 10),
    cabeza_ag       DECIMAL(20, 10),
    cabeza_pb       DECIMAL(20, 10),
    cabeza_zn       DECIMAL(20, 10),
    cabeza_cu       DECIMAL(20, 10),
    conc_pb_au      DECIMAL(20, 10),
    conc_pb_ag      DECIMAL(20, 10),
    conc_pb_pb      DECIMAL(20, 10),
    conc_pb_zn      DECIMAL(20, 10),
    conc_pb_cu      DECIMAL(20, 10),
    conc_zn_au      DECIMAL(20, 10),
    conc_zn_ag      DECIMAL(20, 10),
    conc_zn_pb      DECIMAL(20, 10),
    conc_zn_zn      DECIMAL(20, 10),
    conc_zn_cu      DECIMAL(20, 10),
    cola_au         DECIMAL(20, 10),
    cola_ag         DECIMAL(20, 10),
    cola_pb         DECIMAL(20, 10),
    cola_zn         DECIMAL(20, 10),
    cola_cu         DECIMAL(20, 10),
    row_hash        VARCHAR(64)                             NOT NULL,
    created_at      TIMESTAMP WITHOUT TIME ZONE,
    updated_at      TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_plant_actual PRIMARY KEY (id)
);

ALTER TABLE etl.plant_actual
    ADD CONSTRAINT uk_plant_actual_row_hash UNIQUE (row_hash);