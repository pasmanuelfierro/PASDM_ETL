CREATE TABLE etl.plant_actual
(
    id              BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    fecha           date                                    NOT NULL,
    turno           VARCHAR(20),
    peso_seco_ton   DECIMAL(20, 10),
    cabeza_ag_kg_t  DECIMAL(20, 10),
    cabeza_zn_pct   DECIMAL(20, 10),
    cabeza_cu_pct   DECIMAL(20, 10),
    conc_pb_au_gt   DECIMAL(20, 10),
    conc_pb_ag_kg_t DECIMAL(20, 10),
    conc_pb_pb_pct  DECIMAL(20, 10),
    conc_pb_zn_pct  DECIMAL(20, 10),
    conc_pb_cu_pct  DECIMAL(20, 10),
    conc_zn_au_gt   DECIMAL(20, 10),
    conc_zn_ag_kg_t DECIMAL(20, 10),
    conc_zn_pb_pct  DECIMAL(20, 10),
    conc_zn_zn_pct  DECIMAL(20, 10),
    conc_zn_cu_pct  DECIMAL(20, 10),
    cola_au_gt      DECIMAL(20, 10),
    cola_ag_kg_t    DECIMAL(20, 10),
    cola_pb_pct     DECIMAL(20, 10),
    cola_zn_pct     DECIMAL(20, 10),
    cola_cu_pct     DECIMAL(20, 10),
    conc_pb_ton     DECIMAL,
    conc_zn_ton     DECIMAL,
    cola_ton        DECIMAL,
    cabeza_au       DECIMAL,
    cabeza_ag       DECIMAL,
    cabeza_pb       DECIMAL,
    cabeza_zn       DECIMAL,
    cabeza_cu       DECIMAL,
    conc_pb_au      DECIMAL,
    conc_pb_ag      DECIMAL,
    conc_pb_pb      DECIMAL,
    conc_pb_zn      DECIMAL,
    conc_pb_cu      DECIMAL,
    conc_zn_au      DECIMAL,
    conc_zn_ag      DECIMAL,
    conc_zn_pb      DECIMAL,
    conc_zn_zn      DECIMAL,
    conc_zn_cu      DECIMAL,
    cola_au         DECIMAL,
    cola_ag         DECIMAL,
    cola_pb         DECIMAL,
    cola_zn         DECIMAL,
    cola_cu         DECIMAL,
    row_hash        VARCHAR(64)                             NOT NULL,
    created_at      TIMESTAMP WITHOUT TIME ZONE,
    updated_at      TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_plant_actual PRIMARY KEY (id)
);

ALTER TABLE etl.plant_actual
    ADD CONSTRAINT uk_plant_actual_row_hash UNIQUE (row_hash);