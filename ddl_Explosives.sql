CREATE TABLE etl.explosives
(
    id               BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    fecha            date                                    NOT NULL,
    mina             VARCHAR(100),
    mdo_minado       VARCHAR(100),
    obra             VARCHAR(100),
    lugar            VARCHAR(100),
    mineral          VARCHAR(100),
    utilizado_por    VARCHAR(100),
    marca            VARCHAR(50),
    turno            VARCHAR(20),
    grupo            VARCHAR(50),
    supervisor       VARCHAR(100),
    costo            VARCHAR(255),
    equipo           VARCHAR(100),
    e_anfo_ug        INTEGER,
    d_anfo_ug        INTEGER,
    e_anfo_premium   INTEGER,
    d_anfo_premium   INTEGER,
    e_1x8            INTEGER,
    d_1x8            INTEGER,
    e_114x16         INTEGER,
    d_114x16         INTEGER,
    e_t1             INTEGER,
    d_t1             INTEGER,
    e_112x39         INTEGER,
    d_112x39         INTEGER,
    e_2x16           INTEGER,
    d_2x16           INTEGER,
    e_cordon         INTEGER,
    d_cordon         INTEGER,
    e_booster        INTEGER,
    d_booster        INTEGER,
    powersplit_e     INTEGER,
    powersplit_d     INTEGER,
    cable_harness_e  INTEGER,
    cable_harness_d  INTEGER,
    cordon_sismico_e INTEGER,
    cordon_sismico_d INTEGER,
    stinger_20gr_e   INTEGER,
    stinger_20gr_d   INTEGER,
    ikon_10ft_e      INTEGER,
    ikon_10ft_d      INTEGER,
    e_canuela        INTEGER,
    d_canuela        INTEGER,
    nonel            VARCHAR(255),
    ft_nonel         INTEGER,
    n1_e             INTEGER,
    n1_d             INTEGER,
    n2_e             INTEGER,
    n2_d             INTEGER,
    n3_e             INTEGER,
    n3_d             INTEGER,
    n4_e             INTEGER,
    n4_d             INTEGER,
    n5_e             INTEGER,
    n5_d             INTEGER,
    n6_e             INTEGER,
    n6_d             INTEGER,
    n7_e             INTEGER,
    n7_d             INTEGER,
    n8_e             INTEGER,
    n8_d             INTEGER,
    n9_e             INTEGER,
    n9_d             INTEGER,
    n10_e            INTEGER,
    n10_d            INTEGER,
    n11_e            INTEGER,
    n11_d            INTEGER,
    n12_e            INTEGER,
    n12_d            INTEGER,
    n13_e            INTEGER,
    n13_d            INTEGER,
    n14_e            INTEGER,
    n14_d            INTEGER,
    n15_e            INTEGER,
    n15_d            INTEGER,
    fecha_operacion  date,
    row_hash         VARCHAR(64)                             NOT NULL,
    created_at       TIMESTAMP WITHOUT TIME ZONE,
    updated_at       TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_explosives PRIMARY KEY (id)
);

ALTER TABLE etl.explosives
    ADD CONSTRAINT uk_explosives_row_hash UNIQUE (row_hash);

CREATE INDEX ux_explosive_row_hash ON etl.explosives (row_hash);