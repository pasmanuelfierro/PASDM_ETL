CREATE TABLE etl.geology_report
(
    id               BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    fecha            date                                    NOT NULL,
    turno            VARCHAR(20),
    mina             VARCHAR(100),
    zona             VARCHAR(100),
    tipo             VARCHAR(50),
    veta             VARCHAR(100),
    lugar            VARCHAR(100),
    estatus          VARCHAR(50),
    comentario       VARCHAR(500),
    proy_mineral     VARCHAR(100),
    linea_rez        DECIMAL(20, 10),
    ancho_veta       DECIMAL(20, 10),
    ancho_programado DECIMAL(20, 10),
    ancho_obra       DECIMAL(20, 10),
    dilucion         DECIMAL(20, 10),
    ag1              DECIMAL(20, 10),
    au1              DECIMAL(20, 10),
    pb1              DECIMAL(20, 10),
    zn1              DECIMAL(20, 10),
    block_reservas   VARCHAR(100),
    ley_block        DECIMAL(20, 10),
    ag               DECIMAL(20, 10),
    au               DECIMAL(20, 10),
    pb               DECIMAL(20, 10),
    zn               DECIMAL(20, 10),
    vpt              DECIMAL(20, 10),
    ag_plan_dil_0    DECIMAL(20, 10),
    dil_plan         DECIMAL(20, 10),
    dil_piso         DECIMAL(20, 10),
    dil_piso_2       DECIMAL(20, 10),
    row_hash         VARCHAR(64)                             NOT NULL,
    created_at       TIMESTAMP WITHOUT TIME ZONE,
    updated_at       TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_geology_report PRIMARY KEY (id)
);

ALTER TABLE etl.geology_report
    ADD CONSTRAINT uk_geology_report_row_hash UNIQUE (row_hash);
CREATE TABLE etl.geology_report
(
    id               BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    fecha            date                                    NOT NULL,
    turno            VARCHAR(20),
    mina             VARCHAR(100),
    zona             VARCHAR(100),
    tipo             VARCHAR(50),
    veta             VARCHAR(100),
    lugar            VARCHAR(100),
    estatus          VARCHAR(50),
    comentario       VARCHAR(500),
    proy_mineral     VARCHAR(500),
    linea_rez        DECIMAL(20, 10),
    ancho_veta       DECIMAL(20, 10),
    ancho_programado DECIMAL(20, 10),
    ancho_obra       DECIMAL(20, 10),
    dilucion         DECIMAL(20, 10),
    ag1              DECIMAL(20, 10),
    au1              DECIMAL(20, 10),
    pb1              DECIMAL(20, 10),
    zn1              DECIMAL(20, 10),
    block_reservas   VARCHAR(100),
    ley_block        DECIMAL(20, 10),
    ag               DECIMAL(20, 10),
    au               DECIMAL(20, 10),
    pb               DECIMAL(20, 10),
    zn               DECIMAL(20, 10),
    vpt              DECIMAL(20, 10),
    ag_plan_dil_0    DECIMAL(20, 10),
    dil_plan         DECIMAL(20, 10),
    dil_piso         DECIMAL(20, 10),
    dil_piso_2       DECIMAL(20, 10),
    row_hash         VARCHAR(64)                             NOT NULL,
    created_at       TIMESTAMP WITHOUT TIME ZONE,
    updated_at       TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_geology_report PRIMARY KEY (id)
);

ALTER TABLE etl.geology_report
    ADD CONSTRAINT uk_geology_report_row_hash UNIQUE (row_hash);