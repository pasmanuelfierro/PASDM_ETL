CREATE TABLE etl.geology_grade
(
    id               BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    fecha            date                                    NOT NULL,
    mina             VARCHAR(100),
    area             VARCHAR(100),
    m_minado         VARCHAR(100),
    mineral          VARCHAR(100),
    lugar            VARCHAR(100),
    ml               DECIMAL(20, 10),
    ancho_planeado   DECIMAL(20, 10),
    plan             VARCHAR(50),
    veta             VARCHAR(100),
    ton_plan2        DECIMAL(20, 10),
    ton_plan3        DECIMAL(20, 10),
    concesion        VARCHAR(100),
    ag_plan          DECIMAL(20, 10),
    au_plan          DECIMAL(20, 10),
    pb_plan          DECIMAL(20, 10),
    zn_plan          DECIMAL(20, 10),
    ton_pintarron    DECIMAL(20, 10),
    ton_manteo       DECIMAL(20, 10),
    ancho_real       DECIMAL(20, 10),
    ancho_muestreo   DECIMAL(20, 10),
    ley_ag           DECIMAL(20, 10),
    ley_au           DECIMAL(20, 10),
    ley_pb           DECIMAL(20, 10),
    ley_zn           DECIMAL(20, 10),
    linea_rez        VARCHAR(50),
    class            VARCHAR(50),
    dil_piso         DECIMAL(20, 10),
    dilucion         DECIMAL(20, 10),
    ag_dil           DECIMAL(20, 10),
    au_dil           DECIMAL(20, 10),
    pb_dil           DECIMAL(20, 10),
    zn_dil           DECIMAL(20, 10),
    ag_ton_dil       DECIMAL(20, 10),
    au_ton_dil       DECIMAL(20, 10),
    pb_ton_dil       DECIMAL(20, 10),
    zn_ton_dil       DECIMAL(20, 10),
    ag_08_dil        DECIMAL(20, 10),
    au_08_dil        DECIMAL(20, 10),
    pb_08_dil        DECIMAL(20, 10),
    zn_08_dil        DECIMAL(20, 10),
    vpt_tab          DECIMAL(20, 10),
    vpt_tons         DECIMAL(20, 10),
    ton_plan_ag      DECIMAL(20, 10),
    ton_plan_au      DECIMAL(20, 10),
    ton_plan_pb      DECIMAL(20, 10),
    ton_plan_zn      DECIMAL(20, 10),
    cumpli_ley_ag    DECIMAL(20, 10),
    vpt_plan         DECIMAL(20, 10),
    vpt_tons_plan    DECIMAL(20, 10),
    cumplimiento     DECIMAL(20, 10),
    cumpli_ley       DECIMAL(20, 10),
    fc               DECIMAL(20, 10),
    dif_ag           DECIMAL(20, 10),
    dif_au           DECIMAL(20, 10),
    dif_pb           DECIMAL(20, 10),
    dif_zn           DECIMAL(20, 10),
    ancho_programado DECIMAL(20, 10),
    dilpiso_ton      DECIMAL(20, 10),
    dil_ton          DECIMAL(20, 10),
    dil_ancho_min    DECIMAL(20, 10),
    columna1         VARCHAR(255),
    min_clave        VARCHAR(255),
    tipo_minado      VARCHAR(255),
    clave            VARCHAR(255),
    obra_veta        VARCHAR(255),
    m_real           DECIMAL(20, 10),
    row_hash         VARCHAR(64)                             NOT NULL,
    created_at       TIMESTAMP WITHOUT TIME ZONE,
    updated_at       TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_geology_grade PRIMARY KEY (id)
);

ALTER TABLE etl.geology_grade
    ADD CONSTRAINT uk_geology_grade_row_hash UNIQUE (row_hash);
CREATE TABLE etl.geology_grade
(
    id               BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    fecha            date                                    NOT NULL,
    mina             VARCHAR(100),
    area             VARCHAR(100),
    m_minado         VARCHAR(100),
    mineral          VARCHAR(100),
    lugar            VARCHAR(100),
    ml               DECIMAL(20, 10),
    ancho_planeado   DECIMAL(20, 10),
    plan             VARCHAR(50),
    veta             VARCHAR(100),
    ton_plan2        DECIMAL(20, 10),
    ton_plan3        DECIMAL(20, 10),
    concesion        VARCHAR(100),
    ag_plan          DECIMAL(20, 10),
    au_plan          DECIMAL(20, 10),
    pb_plan          DECIMAL(20, 10),
    zn_plan          DECIMAL(20, 10),
    ton_pintarron    DECIMAL(20, 10),
    ton_manteo       DECIMAL(20, 10),
    ancho_real       DECIMAL(20, 10),
    ancho_muestreo   DECIMAL(20, 10),
    ley_ag           DECIMAL(20, 10),
    ley_au           DECIMAL(20, 10),
    ley_pb           DECIMAL(20, 10),
    ley_zn           DECIMAL(20, 10),
    linea_rez        VARCHAR(50),
    class            VARCHAR(50),
    dil_piso         DECIMAL(20, 10),
    dilucion         DECIMAL(20, 10),
    ag_dil           DECIMAL(20, 10),
    au_dil           DECIMAL(20, 10),
    pb_dil           DECIMAL(20, 10),
    zn_dil           DECIMAL(20, 10),
    ag_ton_dil       DECIMAL(20, 10),
    au_ton_dil       DECIMAL(20, 10),
    pb_ton_dil       DECIMAL(20, 10),
    zn_ton_dil       DECIMAL(20, 10),
    ag_08_dil        DECIMAL(20, 10),
    au_08_dil        DECIMAL(20, 10),
    pb_08_dil        DECIMAL(20, 10),
    zn_08_dil        DECIMAL(20, 10),
    vpt_tab          DECIMAL(20, 10),
    vpt_tons         DECIMAL(20, 10),
    ton_plan_ag      DECIMAL(20, 10),
    ton_plan_au      DECIMAL(20, 10),
    ton_plan_pb      DECIMAL(20, 10),
    ton_plan_zn      DECIMAL(20, 10),
    cumpli_ley_ag    DECIMAL(20, 10),
    vpt_plan         DECIMAL(20, 10),
    vpt_tons_plan    DECIMAL(20, 10),
    cumplimiento     DECIMAL(20, 10),
    fc               DECIMAL(20, 10),
    dif_ag           DECIMAL(20, 10),
    dif_au           DECIMAL(20, 10),
    dif_pb           DECIMAL(20, 10),
    dif_zn           DECIMAL(20, 10),
    ancho_programado DECIMAL(20, 10),
    dilpiso_ton      DECIMAL(20, 10),
    dil_ton          DECIMAL(20, 10),
    dil_ancho_min    DECIMAL(20, 10),
    columna1         VARCHAR(255),
    min_clave        VARCHAR(255),
    tipo_minado      VARCHAR(255),
    clave            VARCHAR(255),
    obra_veta        VARCHAR(255),
    m_real           DECIMAL(20, 10),
    row_hash         VARCHAR(64)                             NOT NULL,
    created_at       TIMESTAMP WITHOUT TIME ZONE,
    updated_at       TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_geology_grade PRIMARY KEY (id)
);

ALTER TABLE etl.geology_grade
    ADD CONSTRAINT uk_geology_grade_row_hash UNIQUE (row_hash);