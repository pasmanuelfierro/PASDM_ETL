CREATE TABLE etl.plant_budget
(
    id                 BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    fecha              date                                    NOT NULL,
    ore_total_t        DECIMAL,
    tonnes_milled      DECIMAL,
    au_gt              DECIMAL,
    ag_gt              DECIMAL,
    pb_pct             DECIMAL,
    zn_pct             DECIMAL,
    rec_au_pct         DECIMAL,
    rec_ag_pct         DECIMAL,
    rec_pb_pct         DECIMAL,
    rec_zn_pct         DECIMAL,
    au_oz              DECIMAL,
    ag_oz              DECIMAL,
    pb_t               DECIMAL,
    zn_t               DECIMAL,
    prod_kg_ag         DECIMAL,
    prod_grs_au        DECIMAL,
    prod_tons_pb       DECIMAL,
    prod_tons_zn       DECIMAL,
    conc_pb_tons_pb    DECIMAL,
    conc_pb_ag_kg_ton  DECIMAL,
    conc_pb_au_grs_ton DECIMAL,
    conc_pb_pb_pct     DECIMAL,
    conc_zn_tons_zn    DECIMAL,
    conc_zn_ag_kg_ton  DECIMAL,
    conc_zn_zn_pct     DECIMAL,
    ley_conc_au        DECIMAL,
    ley_conc_ag_pb     DECIMAL,
    ley_conc_ag_zn     DECIMAL,
    ley_conc_ag        DECIMAL,
    ley_conc_pb        DECIMAL,
    ley_conc_zn        DECIMAL,
    row_hash           VARCHAR(64)                             NOT NULL,
    created_at         TIMESTAMP WITHOUT TIME ZONE,
    updated_at         TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_plant_budget PRIMARY KEY (id)
);

ALTER TABLE etl.plant_budget
    ADD CONSTRAINT uk_plant_budget_row_hash UNIQUE (row_hash);
CREATE TABLE etl.plant_budget
(
    id                 BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    fecha              date                                    NOT NULL,
    ore_total_t        DECIMAL(20, 10),
    tonnes_milled      DECIMAL(20, 10),
    au_gt              DECIMAL(20, 10),
    ag_gt              DECIMAL(20, 10),
    pb_pct             DECIMAL(20, 10),
    zn_pct             DECIMAL(20, 10),
    rec_au_pct         DECIMAL(20, 10),
    rec_ag_pct         DECIMAL(20, 10),
    rec_pb_pct         DECIMAL(20, 10),
    rec_zn_pct         DECIMAL(20, 10),
    au_oz              DECIMAL(20, 10),
    ag_oz              DECIMAL(20, 10),
    pb_t               DECIMAL(20, 10),
    zn_t               DECIMAL(20, 10),
    prod_kg_ag         DECIMAL(20, 10),
    prod_grs_au        DECIMAL(20, 10),
    prod_tons_pb       DECIMAL(20, 10),
    prod_tons_zn       DECIMAL(20, 10),
    conc_pb_tons_pb    DECIMAL(20, 10),
    conc_pb_ag_kg_ton  DECIMAL(20, 10),
    conc_pb_au_grs_ton DECIMAL(20, 10),
    conc_pb_pb_pct     DECIMAL(20, 10),
    conc_zn_tons_zn    DECIMAL(20, 10),
    conc_zn_ag_kg_ton  DECIMAL(20, 10),
    conc_zn_zn_pct     DECIMAL(20, 10),
    ley_conc_au        DECIMAL(20, 10),
    ley_conc_ag_pb     DECIMAL(20, 10),
    ley_conc_ag_zn     DECIMAL(20, 10),
    ley_conc_ag        DECIMAL(20, 10),
    ley_conc_pb        DECIMAL(20, 10),
    ley_conc_zn        DECIMAL(20, 10),
    row_hash           VARCHAR(64)                             NOT NULL,
    created_at         TIMESTAMP WITHOUT TIME ZONE,
    updated_at         TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_plant_budget PRIMARY KEY (id)
);

ALTER TABLE etl.plant_budget
    ADD CONSTRAINT uk_plant_budget_row_hash UNIQUE (row_hash);